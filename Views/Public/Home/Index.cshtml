@{
    ViewData["Title"] = "Accueil";
    var motCommissaire = ViewBag.MotCommissaire as MangoTaikaDistrict.Domain.Entities.MotCommissaire;
    var banniere = (ViewBag.Banniere as List<MangoTaikaDistrict.Domain.Entities.Actualite>)?.FirstOrDefault();
}

<!-- Hero Section avec effet parallax -->
<section class="hero-section hero-scout section-scout position-relative overflow-hidden mb-5 natural-pattern">
    <div class="scout-leaf-decoration"></div>
    <div class="scout-leaf-decoration"></div>
    <div class="scout-leaf-decoration"></div>
    <div class="scout-leaf-decoration"></div>
    <div class="hero-background"></div>
    <div class="hero-overlay"></div>
    <div class="container position-relative" style="z-index: 2; padding-top: 120px; padding-bottom: 80px;">
        <div class="row align-items-center">
            <div class="col-lg-6 text-white">
                <div class="hero-content">
                    <h1 class="display-3 fw-bold mb-4 animate-fade-in">
                        <span class="gradient-text">Mango Taika</span><br>
                        <span class="text-white">District</span>
                    </h1>
                    <p class="lead mb-4 fs-4 animate-slide-up">
                        Plateforme numérique du 22ème siècle pour la gestion et le développement du scoutisme
                    </p>
                    <div class="d-flex flex-wrap gap-3 animate-slide-up-delay">
                        @if (!User.Identity?.IsAuthenticated == true)
                        {
                            <a asp-controller="Account" asp-action="Register" class="btn btn-light btn-lg px-4 py-3 modern-btn">
                                <i class="bi bi-rocket-takeoff me-2"></i>Rejoindre la communauté
                            </a>
                            <a asp-controller="Account" asp-action="Login" class="btn btn-outline-light btn-lg px-4 py-3 modern-btn">
                                <i class="bi bi-box-arrow-in-right me-2"></i>Se connecter
                            </a>
                        }
                        else
                        {
                            <a asp-controller="Formations" asp-action="Index" class="btn btn-light btn-lg px-4 py-3 modern-btn">
                                <i class="bi bi-book me-2"></i>Formations LMS
                            </a>
                            @if (User.IsInRole("ADMIN") || User.IsInRole("GESTIONNAIRE"))
                            {
                                <a asp-area="Admin" asp-controller="Dashboard" asp-action="Index" class="btn btn-outline-light btn-lg px-4 py-3 modern-btn">
                                    <i class="bi bi-speedometer2 me-2"></i>Administration
                                </a>
                            }
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-6 text-center mt-5 mt-lg-0">
                <div class="hero-image-container">
                    <img src="~/images/logo.png" alt="Logo Mango Taika" class="hero-logo animate-float" />
                    <div class="floating-particles">
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="hero-wave">
        <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="white"/>
        </svg>
    </div>
</section>

<!-- Bannière actualité -->
@if (banniere != null)
{
    <div class="container mb-5">
        <div class="modern-banner card-modern-glass p-4 animate-fade-in">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h3 class="fw-bold mb-2">@banniere.Titre</h3>
                    @if (!string.IsNullOrEmpty(banniere.Contenu))
                    {
                        <p class="text-muted mb-0">@(banniere.Contenu.Length > 200 ? banniere.Contenu.Substring(0, 200) + "..." : banniere.Contenu)</p>
                    }
                </div>
                <div class="col-md-4 text-md-end mt-3 mt-md-0">
                    <a asp-controller="News" asp-action="Details" asp-route-id="@banniere.Id" class="btn btn-primary modern-btn">
                        <i class="bi bi-arrow-right me-1"></i>Lire la suite
                    </a>
                </div>
            </div>
        </div>
    </div>
}

    <!-- Mot du Commissaire -->
    @if (motCommissaire != null)
    {
    <div class="container mb-5">
        <div class="card-modern-glass card-scout p-5 animate-fade-in">
                <div class="row align-items-center">
                    @if (!string.IsNullOrEmpty(motCommissaire.PhotoUrl))
                    {
                    <div class="col-md-3 text-center mb-4 mb-md-0">
                        <div class="commissaire-photo-container">
                            <img src="@motCommissaire.PhotoUrl" alt="Commissaire" class="commissaire-photo" />
                            <div class="photo-glow"></div>
                        </div>
                        </div>
                    }
                    <div class="@(string.IsNullOrEmpty(motCommissaire.PhotoUrl) ? "col-12" : "col-md-9")">
                    <div class="d-flex align-items-center mb-3">
                        <div class="quote-icon me-3">
                            <i class="bi bi-quote text-primary" style="font-size: 3rem;"></i>
                        </div>
                        <div>
                            <h2 class="fw-bold mb-0">Mot du Commissaire</h2>
                            <small class="text-muted">@motCommissaire.Annee</small>
                        </div>
                    </div>
                        @if (!string.IsNullOrEmpty(motCommissaire.Titre))
                        {
                        <h4 class="text-primary mb-3 fw-semibold">@motCommissaire.Titre</h4>
                        }
                    <div class="commissaire-content">
                            @Html.Raw(motCommissaire.Contenu.Replace("\n", "<br/>"))
                        </div>
                        <small class="text-muted d-block mt-3">
                            <i class="bi bi-calendar me-1"></i>Période: @motCommissaire.DateDebut.ToString("dd/MM/yyyy") - @motCommissaire.DateFin.ToString("dd/MM/yyyy")
                        </small>
                    </div>
                </div>
            </div>
        </div>
    }

<!-- Services Cards avec effet glassmorphism -->
<section class="container mb-5 section-scout natural-pattern">
    <div class="text-center mb-5">
        <h2 class="display-5 fw-bold mb-3">Découvrez nos services</h2>
        <p class="lead text-muted">Une plateforme complète pour le scoutisme moderne</p>
    </div>
    <div class="row g-4">
        <div class="col-md-6 col-lg-4">
            <div class="service-card card-modern-glass card-scout h-100 animate-fade-in" style="animation-delay: 0.1s;">
                <div class="service-icon mb-4">
                    <div class="icon-wrapper bg-primary-gradient">
                        <i class="bi bi-people-fill"></i>
                    </div>
                </div>
                <h4 class="fw-bold mb-3">Nos Groupes</h4>
                <p class="text-muted mb-4">Explorez tous les groupes qui composent notre district et leur localisation sur une carte interactive</p>
                <div class="d-grid gap-2">
                    <a asp-controller="Groups" asp-action="Index" class="btn btn-primary modern-btn">
                        <i class="bi bi-arrow-right me-1"></i>Voir les groupes
                    </a>
                    <a asp-controller="Groups" asp-action="Map" class="btn btn-outline-primary modern-btn">
                        <i class="bi bi-geo-alt me-1"></i>Carte interactive
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="service-card card-modern-glass h-100 animate-fade-in" style="animation-delay: 0.2s;">
                <div class="service-icon mb-4">
                    <div class="icon-wrapper bg-success-gradient">
                        <i class="bi bi-images"></i>
                    </div>
                </div>
                <h4 class="fw-bold mb-3">Galerie Photos</h4>
                <p class="text-muted mb-4">Parcourez nos albums photos et revivez les moments forts de nos activités</p>
                <a asp-controller="Gallery" asp-action="Index" class="btn btn-success modern-btn w-100">
                        <i class="bi bi-arrow-right me-1"></i>Voir la galerie
                    </a>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="service-card card-modern-glass h-100 animate-fade-in" style="animation-delay: 0.3s;">
                <div class="service-icon mb-4">
                    <div class="icon-wrapper bg-warning-gradient">
                        <i class="bi bi-book"></i>
                    </div>
                </div>
                <h4 class="fw-bold mb-3">Livre d'Or</h4>
                <p class="text-muted mb-4">Laissez votre empreinte et partagez vos souvenirs avec notre communauté</p>
                <a asp-controller="Guestbook" asp-action="Index" class="btn btn-warning modern-btn w-100">
                    <i class="bi bi-arrow-right me-1"></i>Voir le livre d'or
                </a>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="service-card card-modern-glass h-100 animate-fade-in" style="animation-delay: 0.4s;">
                <div class="service-icon mb-4">
                    <div class="icon-wrapper bg-info-gradient">
                        <i class="bi bi-book-half"></i>
                    </div>
                </div>
                <h4 class="fw-bold mb-3">Formations LMS</h4>
                <p class="text-muted mb-4">Accédez à notre plateforme d'apprentissage en ligne et développez vos compétences</p>
                <a asp-controller="Formations" asp-action="Index" class="btn btn-info modern-btn w-100">
                    <i class="bi bi-arrow-right me-1"></i>Accéder aux formations
                </a>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="service-card card-modern-glass h-100 animate-fade-in" style="animation-delay: 0.5s;">
                <div class="service-icon mb-4">
                    <div class="icon-wrapper bg-danger-gradient">
                        <i class="bi bi-newspaper"></i>
                    </div>
                </div>
                <h4 class="fw-bold mb-3">Actualités</h4>
                <p class="text-muted mb-4">Restez informé des dernières nouvelles et événements du district</p>
                <a asp-controller="News" asp-action="Index" class="btn btn-danger modern-btn w-100">
                    <i class="bi bi-arrow-right me-1"></i>Voir les actualités
                </a>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="service-card card-modern-glass h-100 animate-fade-in" style="animation-delay: 0.6s;">
                <div class="service-icon mb-4">
                    <div class="icon-wrapper bg-purple-gradient">
                        <i class="bi bi-envelope-heart"></i>
                    </div>
                </div>
                <h4 class="fw-bold mb-3">Contact</h4>
                <p class="text-muted mb-4">Une question ? Besoin d'informations ? Contactez-nous facilement</p>
                <a asp-controller="Contact" asp-action="Index" class="btn btn-purple modern-btn w-100">
                    <i class="bi bi-arrow-right me-1"></i>Nous contacter
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section py-5 mb-5">
    <div class="container">
        <div class="row g-4 text-center">
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Groupes</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">1000+</div>
                    <div class="stat-label">Scouts</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">200+</div>
                    <div class="stat-label">Activités</div>
            </div>
        </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Support</div>
                </div>
            </div>
        </div>
    </div>
</section>

<style type="text/css">
    /* Charte graphique - Polices */
    * {
        font-family: 'Poppins', 'Myriad Pro', sans-serif;
    }
    
    h1, h2, h3, h4, h5, h6, .display-1, .display-2, .display-3, .display-4, .display-5, .display-6 {
        font-family: 'Poppins', 'Myriad Pro', sans-serif;
        font-weight: 600;
    }
    
    .fw-bold, .fw-semibold {
        font-weight: 600 !important;
    }
    
    /* Hero Section - VERT */
    .hero-section {
        min-height: 90vh;
        background: linear-gradient(135deg, #2D5016 0%, #4A7C2A 50%, #6BA644 100%);
        position: relative;
    }

    .hero-background {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            radial-gradient(circle at 20% 50%, rgba(45, 80, 22, 0.3) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(107, 166, 68, 0.3) 0%, transparent 50%);
        animation: gradient-shift 15s ease infinite;
    }

    @@keyframes gradient-shift {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }

    .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.2);
    }

    .gradient-text {
        background: linear-gradient(120deg, white 0%, #B8E09A 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .hero-logo {
        max-width: 300px;
        filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3));
        animation: float 6s ease-in-out infinite;
    }

    @@keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(5deg); }
    }

    .floating-particles {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
    }

    .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: rgba(184, 224, 154, 0.6);
        border-radius: 50%;
        animation: particle-float 8s infinite;
    }

    .particle:nth-child(1) { left: 10%; animation-delay: 0s; }
    .particle:nth-child(2) { left: 30%; animation-delay: 1s; }
    .particle:nth-child(3) { left: 50%; animation-delay: 2s; }
    .particle:nth-child(4) { left: 70%; animation-delay: 3s; }
    .particle:nth-child(5) { left: 90%; animation-delay: 4s; }

    @@keyframes particle-float {
        0% { transform: translateY(100vh) scale(0); opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { transform: translateY(-100px) scale(1); opacity: 0; }
    }

    .hero-wave {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        overflow: hidden;
        line-height: 0;
    }

    .hero-wave svg {
        position: relative;
        display: block;
        width: calc(100% + 1.3px);
        height: 120px;
    }

    /* Animations */
    .animate-fade-in {
        animation: fadeIn 1s ease-out;
    }

    .animate-slide-up {
        animation: slideUp 1s ease-out 0.2s both;
    }

    .animate-slide-up-delay {
        animation: slideUp 1s ease-out 0.4s both;
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }

    @@keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @@keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Glassmorphism */
    .card-modern-glass {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(212, 228, 200, 0.3);
        box-shadow: 0 8px 32px 0 rgba(45, 80, 22, 0.2);
        border-radius: 20px;
        transition: all 0.3s ease;
    }

    .card-modern-glass:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px 0 rgba(45, 80, 22, 0.3);
    }

    /* Service Cards */
    .service-card {
        padding: 2.5rem;
        text-align: center;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .service-card:hover {
        transform: translateY(-10px) scale(1.02);
    }

    .service-icon {
        display: flex;
        justify-content: center;
    }

    .icon-wrapper {
        width: 80px;
        height: 80px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2.5rem;
        color: white;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    }

    .service-card:hover .icon-wrapper {
        transform: rotate(10deg) scale(1.1);
    }

    .bg-primary-gradient { background: linear-gradient(135deg, #2D5016 0%, #4A7C2A 100%); }
    .bg-success-gradient { background: linear-gradient(135deg, #4A7C2A 0%, #6BA644 100%); }
    .bg-warning-gradient { background: linear-gradient(135deg, #6BA644 0%, #8FCB6B 100%); }
    .bg-info-gradient { background: linear-gradient(135deg, #6BA644 0%, #8FCB6B 100%); }
    .bg-danger-gradient { background: linear-gradient(135deg, #4A7C2A 0%, #6BA644 100%); }
    .bg-purple-gradient { background: linear-gradient(135deg, #8FCB6B 0%, #B8E09A 100%); }

    /* Modern Buttons */
    .modern-btn {
        border-radius: 12px;
        font-weight: 600;
        padding: 0.75rem 1.5rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .modern-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(107, 166, 68, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .modern-btn:hover::before {
        width: 300px;
        height: 300px;
    }

    .modern-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    }

    .btn-purple {
        background: linear-gradient(135deg, #B8E09A 0%, #E8F5E1 100%);
        border: none;
        color: #2D5016;
        font-weight: 600;
    }

    /* Commissaire Photo */
    .commissaire-photo-container {
        position: relative;
        display: inline-block;
    }

    .commissaire-photo {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        object-fit: cover;
        border: 5px solid white;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        position: relative;
        z-index: 2;
    }

    .photo-glow {
        position: absolute;
        top: -10px;
        left: -10px;
        right: -10px;
        bottom: -10px;
        border-radius: 50%;
        background: linear-gradient(135deg, #2D5016 0%, #4A7C2A 100%);
        opacity: 0.3;
        animation: pulse 2s ease-in-out infinite;
        z-index: 1;
    }

    @@keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 0.3; }
        50% { transform: scale(1.1); opacity: 0.5; }
    }

    /* Stats Section */
    .stats-section {
        background: linear-gradient(135deg, #2D5016 0%, #4A7C2A 50%, #6BA644 100%);
        border-radius: 30px;
        margin: 0 15px;
    }

    .stat-item {
        color: white;
    }

    .stat-number {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        background: linear-gradient(120deg, #FFFFFF 0%, #B8E09A 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .stat-label {
        font-size: 1.1rem;
        opacity: 0.9;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    /* Navbar Modern */
    .modern-navbar {
        backdrop-filter: blur(10px);
        background: rgba(45, 80, 22, 0.95) !important;
    }

    .logo-nav {
        transition: all 0.3s ease;
        /* Respect des règles : pas de rotation du logo */
    }

    .logo-nav:hover {
        transform: scale(1.05);
        /* Pas de rotation - respect de la charte graphique */
    }

    .brand-text {
        background: linear-gradient(120deg, white 0%, #B8E09A 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: 600;
    }

    /* Responsive */
    @@media (max-width: 768px) {
        .hero-section {
            min-height: 70vh;
        }
        
        .hero-logo {
            max-width: 200px;
        }
        
        .stat-number {
            font-size: 2rem;
        }
    }
</style>
